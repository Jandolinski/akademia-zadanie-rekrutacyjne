"use strict";var changeSection=function(e){var t=document.querySelector(".active[data-step]"),c=Array.from(document.querySelectorAll("[data-step]")).length;if(!t)return!1;var n=parseInt(t.getAttribute("data-step"));t.classList.add("hidden"),t.classList.remove("active"),"next"===e?(1==n&&document.getElementById("multiStepSection").classList.remove("hidden"),n+=1,(t=document.querySelector('[data-step="'.concat(n,'"]')))&&(t.classList.remove("hidden"),t.classList.add("active"))):"prev"===e&&(2==n&&document.getElementById("multiStepSection").classList.add("hidden"),--n,(i=document.querySelector('[data-step="'.concat(n,'"]')))&&(i.classList.remove("hidden"),i.classList.add("active")));var i=document.getElementById("sectionsNavigation");n==c?i.classList.add("hidden"):i.classList.remove("hidden"),refreshTimeline(n)},refreshTimeline=function(t){Array.from(document.querySelectorAll(".timeline__item[data-timeline-step]")).forEach(function(e){parseInt(e.getAttribute("data-timeline-step"))<t?(e.classList.remove("timeline__item--active"),e.classList.add("timeline__item--completed")):parseInt(e.getAttribute("data-timeline-step"))===t?(e.classList.remove("timeline__item--completed"),e.classList.add("timeline__item--active")):(e.classList.remove("timeline__item--completed"),e.classList.remove("timeline__item--active"))})},refreshInputs=function(){Array.from(document.querySelectorAll('input[type="checkbox"], input[type="radio"]')).forEach(function(e){e.checked=!1}),recalculatePrices()},refreshCalculator=function(){var e=document.querySelector(".active[data-step]"),t=document.querySelector('[data-step="1"]'),c=document.getElementById("multiStepSection");refreshInputs(),refreshTimeline(1),c.classList.add("hidden"),e.classList.add("hidden"),e.classList.remove("active"),t.classList.remove("hidden"),t.classList.add("active")},recalculatePrices=function(){var e=Array.from(document.querySelectorAll('input[type="checkbox"]:checked, input[type="radio"]:checked')),c=0,n=0,t=document.querySelectorAll("#wholePrice .price__value, #summaryWholePrice .price__value"),i=document.querySelector("#standardPrice .price__value");if(e.length<=0)return t.forEach(function(e){e.textContent=0}),i.textContent=0,!1;e.forEach(function(e){var t=Number(e.getAttribute("data-price")),e=e.getAttribute("data-price-type");0<t&&("standard"===e||"with_bonuses"===e)&&(c+=t,"standard"===e&&(n+=t))}),t.forEach(function(e){e.textContent=c.toFixed(2)}),i.textContent=n.toFixed(2)},fetchJSONData=new Promise(function(n,e){fetch("data.json").then(function(e){return e.json()}).then(function(e){var t,c=e.inputs;for(t in c)(function(n){var e=c[n],t=document.getElementById(e.id);if(!t)return;var i=e.type,a=(a=e.price_type_affect)||"none",r="";e.elements.forEach(function(e,t){var c=e.label,e=(e=e.price)||0;r+='<li class="input-group__item '.concat(i,'">'),"checkbox"===i?r+='<input type="'.concat(i,'" name="').concat(n,"_").concat(t,'" id="').concat(n,"_").concat(t,'" data-price="').concat(e,'" data-price-type="').concat(a,'">'):"radio"===i&&(r+='<input type="'.concat(i,'" name="').concat(n,'" id="').concat(n,"_").concat(t,'" data-price="').concat(e,'" data-price-type="').concat(a,'">')),r+='\n                    <label for="'.concat(n,"_").concat(t,'" class="').concat(i,'__label">').concat(c,"</label>\n                </li>\n                ")}),t.innerHTML=r})(t);n(!0)})}),init=function(){fetchJSONData.then(function(e){document.getElementById("loader").classList.remove("active");var t=document.getElementById("start"),c=document.getElementById("nextSection"),n=document.getElementById("prevSection"),i=document.getElementById("restart");t.addEventListener("click",function(){return changeSection("next")}),c.addEventListener("click",function(){return changeSection("next")}),n.addEventListener("click",function(){return changeSection("prev")}),i.addEventListener("click",refreshCalculator),Array.from(document.querySelectorAll('input[type="checkbox"], input[type="radio"]')).forEach(function(e){e.addEventListener("change",recalculatePrices)})})};window.onload=init;