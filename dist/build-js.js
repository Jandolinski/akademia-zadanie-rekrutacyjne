"use strict";var changeSection=function(e){var t=document.querySelector(".active[data-step]"),n=Array.from(document.querySelectorAll("[data-step]")).length;if(!t)return!1;var c=parseInt(t.getAttribute("data-step"));t.classList.add("hidden"),t.classList.remove("active"),"next"===e?(1==c&&document.getElementById("multiStepSection").classList.remove("hidden"),c+=1,(t=document.querySelector('[data-step="'.concat(c,'"]')))&&(t.classList.remove("hidden"),t.classList.add("active"))):"prev"===e&&(2==c&&document.getElementById("multiStepSection").classList.add("hidden"),--c,(a=document.querySelector('[data-step="'.concat(c,'"]')))&&(a.classList.remove("hidden"),a.classList.add("active")));var a=document.getElementById("sectionsNavigation");c==n?a.classList.add("hidden"):a.classList.remove("hidden"),refreshTimeline(c)},refreshTimeline=function(t){Array.from(document.querySelectorAll(".timeline__item[data-timeline-step]")).forEach(function(e){parseInt(e.getAttribute("data-timeline-step"))<t?(e.classList.remove("timeline__item--active"),e.classList.add("timeline__item--completed")):parseInt(e.getAttribute("data-timeline-step"))===t?(e.classList.remove("timeline__item--completed"),e.classList.add("timeline__item--active")):(e.classList.remove("timeline__item--completed"),e.classList.remove("timeline__item--active"))})},refreshInputs=function(){Array.from(document.querySelectorAll('input[type="checkbox"], input[type="radio"]')).forEach(function(e){e.checked=!1}),recalculatePrices()},refreshCalculator=function(){var e=document.querySelector(".active[data-step]"),t=document.querySelector('[data-step="1"]'),n=document.getElementById("multiStepSection");refreshInputs(),refreshTimeline(1),n.classList.add("hidden"),e.classList.add("hidden"),e.classList.remove("active"),t.classList.remove("hidden"),t.classList.add("active")},recalculatePrices=function(){var e=Array.from(document.querySelectorAll('input[type="checkbox"]:checked, input[type="radio"]:checked')),n=0,c=0,t=document.querySelectorAll("#wholePrice .price__value, #summaryWholePrice .price__value"),a=document.querySelector("#standardPrice .price__value");if(e.length<=0)return t.forEach(function(e){e.textContent=0}),a.textContent=0,!1;e.forEach(function(e){var t=Number(e.getAttribute("data-price")),e=e.getAttribute("data-price-type");0<t&&("standard"===e||"with_bonuses"===e)&&(n+=t,"standard"===e&&(c+=t))}),t.forEach(function(e){e.textContent=n.toFixed(2)}),a.textContent=c.toFixed(2)},fetchJSONData=new Promise(function(i,e){fetch("data.json").then(function(e){return e.json()}).then(function(e){var t,n=e.inputs;for(t in n)(function(c){var e=n[c],t=document.getElementById(e.id);if(!t)return;var a=e.type,i=(i=e.price_type_affect)||"none",r="";e.elements.forEach(function(e,t){var n=e.label,e=(e=e.price)||0;r+='<li class="input-group__item '.concat(a,'">'),"checkbox"===a?r+='<input type="'.concat(a,'" name="').concat(c,"_").concat(t,'" id="').concat(c,"_").concat(t,'" data-price="').concat(e,'" data-price-type="').concat(i,'">'):"radio"===a&&(r+='<input type="'.concat(a,'" name="').concat(c,'" id="').concat(c,"_").concat(t,'" data-price="').concat(e,'" data-price-type="').concat(i,'">')),r+='\n                    <label for="'.concat(c,"_").concat(t,'" class="').concat(a,'__label">').concat(n,"</label>\n                </li>\n                ")}),t.innerHTML=r})(t);var c=e.summary_boxes,e=document.getElementById("summaryBoxes"),a="";c.forEach(function(e){var t=e.img,n=e.alt,c=e.link,e=e.background_color;if(!t)return!1;n=n||"",c=c||"",a+='\n            <li class="summary__box" style="background-color:'.concat(e=e||"#fff",'">\n                <a href="').concat(c,'" target="_blank" rel="nofollow" class="box__link">\n                    <img src="').concat(t,'" alt="').concat(n,'" class="box__img">\n                </a>\n            </li>\n            ')}),e.innerHTML=a,i(!0)})}),init=function(){fetchJSONData.then(function(e){document.getElementById("loader").classList.remove("active");var t=document.getElementById("start"),n=document.getElementById("nextSection"),c=document.getElementById("prevSection"),a=document.getElementById("restart");t.addEventListener("click",function(){return changeSection("next")}),n.addEventListener("click",function(){return changeSection("next")}),c.addEventListener("click",function(){return changeSection("prev")}),a.addEventListener("click",refreshCalculator),Array.from(document.querySelectorAll('input[type="checkbox"], input[type="radio"]')).forEach(function(e){e.addEventListener("change",recalculatePrices)})})};window.onload=init;